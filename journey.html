<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <meta name="description" content="Ivan Shychynov Personal Portfolio" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ivan Shychynov Personal Portfolio</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <div class="Main"></div>
    <div class="MainScrollArea">
      <h1 class="Title" id="Title">My journey as a game developer begins here</h1>
      <div class="JourneyContent">
        <div class="MainChain"></div>
        <div class="ChainGlowArea">
          <img class="ChainGlow" src="/images/chainglow.png" />
          <img class="ChainGlow" src="/images/chainglow.png" />
          <img class="ChainGlow" src="/images/chainglow.png" />
        </div>
        <div class="Projects">
          <div class="Proj">
            <h2 class="Name">Neon Bounce</h2>
            <h4 class="Desc">
              First ever game programming experience. A 2D rhythm platformer
              game written on C++ (University of Breda Template) as Breda
              University Intake project Has one 3-minute level with simple
              collision detection, checkpoints, difficulty choice and
              postprocessing effects.
            </h4>
            <div class="Showcase">
              <div class="ProjectContent">
                <img class="Image" src="/images/Neon Bounce.png" />
              </div>
              <div class="Tasks">
                <div class="Justification">
                  <h3>Challenges</h3>
                  <div class="Remark">
                    What were my main tasks and how hard it was to overcome them
                  </div>
                </div>
                <div class="Challenge">
                  <div class="ChallengeContent">
                    <div class="ChallengeDesc">Framework programming</div>
                    <div class="ChallengeBar" id="medium">
                      <div class="BarName">Medium</div>
                      <div class="Bar"></div>
                    </div>
                  </div>
                </div>
                <div class="Challenge">
                  <div class="ChallengeContent">
                    <div class="ChallengeDesc">Gameplay programming</div>
                    <div class="ChallengeBar" id="easy">
                      <div class="BarName">Easy</div>
                      <div class="Bar"></div>
                    </div>
                  </div>
                </div>
                <div class="Challenge">
                  <div class="ChallengeContent">
                    <div class="ChallengeDesc">Level Design</div>
                    <div class="ChallengeBar" id="hard">
                      <div class="BarName">Hard</div>
                      <div class="Bar"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="Proj">
            <h2 class="Name">Neon Bounce</h2>
            <h4 class="Desc">
              First ever game programming experience. A 2D rhythm platformer
              game written on C++ (University of Breda Template) as Breda
              University Intake project Has one 3-minute level with simple
              collision detection, checkpoints, difficulty choice and
              postprocessing effects.
            </h4>
            <div class="Showcase">
              <div class="ProjectContent">
                <img class="Image" src="/images/Neon Bounce.png" />
              </div>
              <div class="Tasks">
                <div class="Justification">
                  <h3>Challenges</h3>
                  <p class="Remark">
                    What were my main tasks and how hard it was to overcome them
                  </p>
                </div>
                <div class="Challenge">
                  <div class="ChallengeContent">
                    <div class="ChallengeDesc">Framework programming</div>
                    <div class="ChallengeBar" id="medium">
                      <div class="BarName">Medium</div>
                      <div class="Bar"></div>
                    </div>
                  </div>
                </div>
                <div class="Challenge">
                  <div class="ChallengeContent">
                    <div class="ChallengeDesc">Gameplay programming</div>
                    <div class="ChallengeBar" id="easy">
                      <div class="BarName">Easy</div>
                      <div class="Bar"></div>
                    </div>
                  </div>
                </div>
                <div class="Challenge">
                  <div class="ChallengeContent">
                    <div class="ChallengeDesc">Level Design</div>
                    <div class="ChallengeBar" id="hard">
                      <div class="BarName">Hard</div>
                      <div class="Bar"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="Proj">
            <h2 class="Name">Neon Bounce</h2>
            <h4 class="Desc">
              First ever game programming experience. A 2D rhythm platformer
              game written on C++ (University of Breda Template) as Breda
              University Intake project Has one 3-minute level with simple
              collision detection, checkpoints, difficulty choice and
              postprocessing effects.
            </h4>
            <div class="Showcase">
              <div class="ProjectContent">
                <img class="Image" src="/images/Neon Bounce.png" />
              </div>
              <div class="Tasks">
                <div class="Justification">
                  <h3>Challenges</h3>
                  <p class="Remark">
                    What were my main tasks and how hard it was to overcome them
                  </p>
                </div>
                <div class="Challenge">
                  <div class="ChallengeContent">
                    <div class="ChallengeDesc">Framework programming</div>
                    <div class="ChallengeBar" id="medium">
                      <div class="BarName">Medium</div>
                      <div class="Bar"></div>
                    </div>
                  </div>
                </div>
                <div class="Challenge">
                  <div class="ChallengeContent">
                    <div class="ChallengeDesc">Gameplay programming</div>
                    <div class="ChallengeBar" id="easy">
                      <div class="BarName">Easy</div>
                      <div class="Bar"></div>
                    </div>
                  </div>
                </div>
                <div class="Challenge">
                  <div class="ChallengeContent">
                    <div class="ChallengeDesc">Level Design</div>
                    <div class="ChallengeBar" id="hard">
                      <div class="BarName">Hard</div>
                      <div class="Bar"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="Back">
      <h2><- Back</h2>
    </div>
  </body>
  
</html>

<script>
  var header = document.getElementById("Title");
  
  var projs = document.getElementsByClassName("Proj");
  var glows = document.getElementsByClassName("ChainGlow");

  function fadeOutOnScroll(element) {
    if (!element) {
      return;
    }
    
    var distanceToTop = element.getBoundingClientRect().top;
    var distanceToBottom = window.innerHeight - element.getBoundingClientRect().top;
    var elementHeight = element.offsetHeight;
    var scrollTop = document.documentElement.scrollTop;
    
    var opacityBottom = Math.min(Math.max((distanceToBottom - elementHeight/2) / elementHeight, 0), 1);
    var opacityTop = Math.min(Math.max((distanceToTop + elementHeight) / elementHeight, 0), 1);
    var opacity = opacityBottom * opacityTop;
   
    if (opacity < 0){
      element.style.opacity = 0;
    }
    else if (opacity > 1){
      element.style.opacity = 1;
    }
    else {
      element.style.opacity = opacity;
      element.style.transform = "translateZ(" + opacity * 100 + "px)";
      element.style.scale = 0.8 + 0.2 * easeOutCubic(opacity);
    }
  }
  function fadeOutOnScrollChain(element) {
    if (!element) {
      return;
    }
    
    var distanceToTop = element.getBoundingClientRect().top;
    var distanceToBottom = window.innerHeight - element.getBoundingClientRect().top;
    var elementHeight = element.offsetHeight;
    var scrollTop = document.documentElement.scrollTop;
    
    var opacityBottom = Math.min(Math.max((distanceToBottom) / elementHeight/2, 0), 1);
    var opacityTop = Math.min(Math.max((distanceToTop + elementHeight) / elementHeight, 0), 1);
    var opacity = opacityBottom * opacityTop;
   
    if (opacity < 0){
      element.style.opacity = 0;
    }
    else if (opacity > 1){
      element.style.opacity = 1;
    }
    else {
      element.style.opacity = easeInQuart(opacity);
    }
  }
  
  function scrollHandler() {
    fadeOutOnScroll(header);
    
    Array.prototype.filter.call(
      projs,
      (element) => fadeOutOnScroll(element)
    );
    Array.prototype.filter.call(
      glows,
      (element) => fadeOutOnScrollChain(element)
    );
  }
  function easeOutCubic(x) {
    return 1 - Math.pow(1 - x, 3);
  }
  function easeInQuart(x){
    return x * x * x * x;
  }
  window.addEventListener('scroll', scrollHandler);
</script>